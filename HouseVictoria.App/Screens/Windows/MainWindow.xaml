<Window x:Class="HouseVictoria.App.Screens.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:trays="clr-namespace:HouseVictoria.App.Screens.Trays"
        mc:Ignorable="d"
        Title="House Victoria" Height="1080" Width="1920"
        WindowStyle="None" AllowsTransparency="True"
        Background="Transparent" Topmost="True"
        WindowState="Maximized" ShowInTaskbar="False"
        Visibility="Visible"
        Loaded="Window_Loaded" Unloaded="Window_Unloaded">

    <Grid Background="Transparent">
        <!-- Pull Handle at Top Edge for TopTray -->
        <Border x:Name="PullHandle"
                Width="300" Height="12"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Margin="0,0,0,0"
                Background="#2000D4FF"
                CornerRadius="0,0,8,8"
                Cursor="Hand"
                BorderBrush="#4000D4FF"
                BorderThickness="0,0,1,1"
                MouseEnter="PullHandle_MouseEnter"
                MouseLeave="PullHandle_MouseLeave"
                MouseLeftButtonUp="PullHandle_Click">
            <TextBlock Text="â¬‡"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Foreground="#8000D4FF"
                       FontSize="10"
                       FontFamily="Segoe UI"/>
        </Border>

        <!-- Main Tray (Right Edge, Vertically Centered) -->
        <trays:MainTray x:Name="MainTrayElement"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Margin="0,200,20,200"/>

        <!-- Top Tray (Middle of Top) -->
        <trays:TopTray x:Name="TopTrayElement"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Top"
                        Margin="0,20,0,0"/>

        <!-- System Monitor Drawer (Left Edge) - Always on top -->
        <trays:SystemMonitorDrawer x:Name="SystemMonitorDrawerElement"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Stretch"
                                    Panel.ZIndex="1000"/>

        <!-- Window Container (dynamically shown/hidden) -->
        <ContentControl x:Name="WindowContainer"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        Visibility="Collapsed"/>
    </Grid>

</Window>
